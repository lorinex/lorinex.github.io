---
date: 2024-01-21 15:23:20
title: 3 数据链路层
categories:
  - 计算机网络
---

## 数据链路层的功能

数据链路层的功能：

1. 向网络层提供一个定义良好的服务接口。
2. 处理传输错误。
3. 调节数据流，确保慢速的接收方不会被快速的发送方淹没。

为了实现这些目标，数据链路层从网络层获得数据包，然后将这些数据包封装成帧 (frame) 以便传输。每个帧包含一个帧头、一个有效载荷（用于存放数据包）以及一个帧尾。

基本术语：

1. 结点(node)：

   网络中的主机（host）和路由器（router）称为结点

2. 链路（Link）

   两个结点之间的点到点的线路段

3. 数据链路（Data Link）

   协议+链路，在不可靠的物理链路上实现可靠的传输

4. 端到端（end to end）

   从源结点（source node）到目的结点 （ destinationnode）的通信路径（path），可能由多个链路组成

提供给网络层的服务：

无确认的无连接服务：是指源机器向目标机器发送独立的帧，目标机器并不对这些帧进行确认。

有确认的无连接服务：当向网络层提供这种服务时，数据链路层仍然没有使用逻辑连接，但其发送的每一帧都需要单独确认。

面向连接的服务：采用这种服务，源机器和目标机器在传输任何数据之前要建立一个连接。连接上发送的每一帧都被编号，数据链路层确保发出的每个帧都会真正被接收方收到。它还保证每个帧只被接收一次，并且所有的帧都将按正确的顺序被接收。

数据链路层使用的信道

1. 点对点信道，使用一对一的通信方式。 PPP 协议则是目前使用报广泛的点对点协议。 
2. 广播信道，这种信道上连接的主机很多，使用一对多的广播通信方式。采用共享广播信 道的有线局域网普遍使用 CSMA/CD 协议，而无线局域网则使用 CSMA/CA 协议。



## 封装成帧与透明传输

**封装成帧**是指在一段数据的前后分别添加首部和尾部构成帧。

帧是数据链路层的数据传送单元。

帧长=帧的数据部分长度+首部和尾部的长度。

首部和尾部中含有很多控制信息，它们的一个重要作用是确定帧的界限，即**帧定界**。

接收方能从接收到的二进制比特流中区分出帧的 起始与终止，即**帧同步**。

### 字符计数法Character Count

利用头部中的一个字段来标识该帧中的字符数。

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/2021-07-21-10-47-55-9uynXC.png)

### 字节填充法Byte Stuffing

让每个用一些特殊的字节作为开始和结朿。这些特殊字节通常都相同，称为标志字节 (flag byte)，作为帧的起始和结束分界符。

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/2021-07-21-10-47-55-09lAvz.png)

### 零比特填充法Bit Stuffing

每个帧的开始和结束由一个特殊的比特模式，01111110 或十六进制 0x7E 标记。这种模式是一个标志字节。每当发送方的数据链路层在数据中遇到连续五个 1，它便自动在输出的比特流中填入一个比特 0。这种比特填充类似于字节填充，在数据字段的标志字节之前插入一个转义字节到出境字符流中。

### 违规编码法Physical Layer Coding Violations

在物理层进行比特编码时，常采用违规编码法。例如，曼彻斯特编码方法将数据比特 “1" 编码成“高－低“电平对，将数据比特 ”O" 编码成“低－高“电平对，而“高－高“电平对和“低 －低“电平对在数据比特中是违规的（即没有采用），因此可借用这些违规编码序列来定界帧的起始和终止。局域网 IEEE 802 标准就采用了这种方法。违规编码法不采用任何填充技术便能实现数 据的透明传输，但只适用千采用冗余编码的特殊编码环境。

## 差错检测和纠正



## 流量控制和可靠传输机制



## 介质访问控制



## 局域网



## 广域网



## 数据链路层协议实例

### PPP

### HDLC



## 数据链路层设备

