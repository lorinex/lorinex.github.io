---
date: 2024-01-23 20:52:56
title: 5 ä¼ è¾“å±‚
categories:
  - è®¡ç®—æœºç½‘ç»œ
---

 ä¸»è¦æ¦‚å¿µ

> å¼•å…¥ç½‘ç»œå±‚çš„åŸå› ï¼šæ¶ˆé™¤ç½‘ç»œå±‚çš„ä¸å¯é æ€§ï¼›æä¾›æºä¸»æœºåˆ°ç«¯ä¸»æœºçš„å¯é åœ°ï¼Œå¦‚å®é™…ä½¿ç”¨ç½‘ ç»œæ— å…³çš„ä¿¡æ¯ä¼ è¾“ï¼›æé«˜æœåŠ¡è´¨é‡ï¼Œè¿›è¡Œå·®é”™æ£€æµ‹ã€‚
>
> ä¸ç½‘ç»œå±‚çš„åŒºåˆ«ï¼šä¼ è¾“å±‚æä¾›åº”ç”¨è¿›ç¨‹é—´çš„é€»è¾‘é€šä¿¡ï¼Œè€Œç½‘ç»œå±‚åªæ˜¯å®ç°ä¸»æœºåˆ°ä¸»æœºä¹‹é—´é€šä¿¡ 
>
> ä¼ è¾“å±‚æä¾›é«˜æ•ˆã€å¯é ã€é«˜æ€§ä»·æ¯”çš„æ•°æ®ä¼ è¾“ï¼Œç‹¬ç«‹äºå½“å‰çš„ç‰©ç†å±‚ç½‘ç»œï¼Œæ˜¯è¿›ç¨‹ä¸è¿›ç¨‹é—´çš„é€šä¿¡

## ç®—æ³•

###  æµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶

æ…¢å¯åŠ¨   å¯åŠ¨é€Ÿç‡å¾ˆä½ï¼Œæ‹¥å¡çª—å£åˆå§‹å€¼ä¸º1ä¸ªæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼ˆMSSï¼‰ã€‚åœ¨è¾¾åˆ°é˜ˆ å€¼æˆ–è€…å‘ç°ä¸¢åŒ…ä¹‹å‰ï¼Œæ‹¥å¡çª—å£æŒ‰æŒ‡æ•°çº§å¢é•¿![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210154605.(null))   æ³¨ï¼š   cwnd: CongestionWindow

AI   å½“æ‹¥å¡çª—å£è¾¾åˆ°é˜ˆå€¼æ—¶ï¼ŒæŒ‰çº¿æ€§å¢é•¿ 
MD   å‡ºç°é‡å‘å®šæ—¶å™¨è¶…æ—¶ï¼Œæ‹¥å¡çª—å£é™ä¸ºæœ€å°å€¼ï¼ˆ1ä¸ªMSSï¼‰ï¼Œé˜ˆå€¼æ”¹ä¸ºè¶…æ—¶æ—¶åˆ»çš„æ‹¥å¡çª—å£å€¼çš„ä¸€åŠï¼Œé‡æ–°å¼€å§‹æ–°çš„æ…¢å¯åŠ¨ã€‚
å¿«é€Ÿæ¢å¤   æ”¶åˆ°ä¸‰ä¸ªé‡å¤çš„ACKæ—¶ï¼Œæ‹¥å¡çª—å£é™ä¸ºå½“å‰çª—å£çš„ä¸€åŠï¼Œå¼€å§‹æ–°çš„AI

####   æœ€å¤§æœ€å°å…¬å¹³æ€§ (Max-Min Fairness)

  åŸºæœ¬å«ä¹‰ï¼šä½¿å¾—èµ„æºåˆ†é…å‘é‡çš„æœ€å°åˆ†é‡çš„å€¼æœ€å¤§ï¼Œé˜²æ­¢ä»»ä½•ç½‘ç»œæµè¢«â€˜é¥¿æ­»â€™ï¼ŒåŒæ—¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šå°½å¯èƒ½å¢åŠ æ¯ä¸ªæµçš„é€Ÿç‡ã€‚

  åŸåˆ™ï¼šä¸€ä¸ªä¿¡é“ä¸Šï¼Œåœ¨æ»¡è¶³æœ€å°éœ€æ±‚çš„å‰æä¸‹ï¼Œå„æµå°½é‡å‡åˆ†å¸¦å®½ï¼›å¦‚æœå¢åŠ ä»»ä½•ä¸€ä¸ªå‚ä¸è€…ï¼ˆåˆ†é‡ï¼‰çš„å¸¦å®½ï¼Œå°†å¯¼è‡´å…¶å®ƒçš„å…·æœ‰ç›¸åŒæˆ–è€…æ›´å°‘å¸¦å®½çš„å‚ä¸è€…ï¼ˆåˆ†é‡ï¼‰çš„å¸¦å®½ä¸‹é™ï¼Œæ­¤æ—¶å³æ»¡è¶³äº†æœ€å¤§æœ€å°å…¬å¹³æ€§

> In Figure 6-20, suppose a new flow E is added that takes a path from R1 to R2 to R6. How does the max-min bandwidth allocation change for the five flows?
>
> ä¹ é¢˜8ï¼šåœ¨ä¹¦å›¾6-20ï¼ˆå³ä¸‹å›¾ï¼‰ä¸­ï¼Œå‡è®¾åŠ å…¥äº†ä¸€ä¸ªæ–°çš„æµEï¼Œå®ƒçš„è·¯å¾„æ˜¯ä»R1åˆ°R2ã€R2å†åˆ°R6ã€‚è¯·é—®å¯¹äº5ä¸ªæµçš„æœ€å¤§ï¼æœ€å°å¸¦å®½åˆ†é…æœ‰ä»€ä¹ˆå˜åŒ–ï¼Ÿ
>
> ![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210154980.(null))
>
> è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜è€ƒæŸ¥å¯¹äºæœ€å¤§æœ€å°å…¬å¹³æ€§åŸåˆ™çš„ç†è§£ã€‚åœ¨å¸¦å®½åˆ†é…ä¸­ï¼Œå¦‚æœå¢åŠ ä»»ä¸€ä¸ªæµçš„å¸¦å®½ï¼Œä¸ä¼šå‡å°‘æœ€å°å¸¦å®½éœ€æ±‚çš„æµçš„å¸¦å®½ï¼Œåˆ™è¯¥åˆ†é…æ–¹å¼æ»¡è¶³æœ€å¤§æœ€å°å…¬å¹³æ€§åŸåˆ™ã€‚
>
> ç­”ï¼šæµAå’ŒEåœ¨R1-R2å‡åˆ†å¸¦å®½ã€‚ç”±äºAä¸æ˜¯å ç”¨å¸¦å®½æœ€å°çš„æµï¼Œä»2/3é™ä¸º1/2æ²¡æœ‰è¿åæœ€å¤§-æœ€å°å…¬å¹³æ€§åŸåˆ™ã€‚
>
> åœ¨é“¾è·¯R1-R2ä¸Šï¼ŒAåˆ†é…1/2å¸¦å®½ï¼Œåœ¨R2-R3ä¸Šç»§ç»­åˆ†é…1/2å¸¦å®½ï¼›
>
> åœ¨é“¾è·¯R1-R2ä¸Šï¼ŒEåˆ†é…1/2å¸¦å®½, åœ¨R2-R6ä¸Šç»§ç»­åˆ†é…1/2å¸¦å®½ï¼›
>
> å…¶ä»–æµï¼ˆBã€Cã€Dï¼‰çš„å¸¦å®½åˆ†é…ä¸å˜ã€‚

####   TCPæ‹¥å¡æ§åˆ¶è¿‡ç¨‹

  æ…¢å¯åŠ¨ï¼ŒAIMD

  å‘é€çª—å£=min(æ¥æ”¶çª—å£ï¼Œæ‹¥å¡çª—å£)

  å‘ç”Ÿè¶…æ—¶ï¼Œåˆ™é˜ˆå€¼ï¼è¶…æ—¶æ—¶åˆ»çš„æ‹¥å¡çª—å£å€¼/2

###  Nagleç®—æ³•ï¼ˆå‘é€ç«¯ï¼‰  ç§¯ç´¯è¦å‘é€çš„æ•°æ®ï¼Œä¸€æ¬¡å°½å¯èƒ½å‘é€è¾ƒå¤§çš„æ•°æ®é‡ï¼ˆ1ä¸ªMSSï¼‰

###  Clarkç®—æ³•ï¼ˆæ¥æ”¶ç«¯ï¼‰  ç­‰å¾…ç©ºé—²çš„æ¥æ”¶ç¼“å†²åŒºå˜å¤§ï¼Œåªåœ¨æœ‰è¾ƒå¤§ç¼“å­˜ï¼ˆè‡³å°‘ä¸º1/2 MSSï¼‰æ—¶ï¼Œæ‰å‘é€çª—å£æ›´æ–°é€šçŸ¥

###  Jacobsonç®—æ³•  ä¼°è®¡ç«¯åˆ°ç«¯ç¯å›æ—¶å»¶RTT  $$RTT_{ä¼°å€¼}=\alpha \times RTT_{ä¼°å€¼çš„å†å²å€¼} + (1 - \alpha) \times RTT_{æµ‹é‡å€¼}$$

## ä¼ è¾“å±‚åè®®

####  UDP

 æä¾›æ— è¿æ¥ã€å°½åŠ›è€Œä¸ºçš„ä¼ è¾“æœåŠ¡ï¼Œé‡‡ç”¨æ ¡éªŒå’Œæ–¹å¼è¿›è¡Œå·®é”™æ£€æµ‹ ï¼Œä¸æä¾›å·®é”™æ¢å¤åŠŸèƒ½ã€‚ UDPä¿ç•™å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´çš„æ¶ˆæ¯è¾¹ç•Œ

 ä½¿ç”¨UDPçš„åè®®ï¼šDNSã€DHCPã€RIPç­‰

#####   æ®µå¤´æ ¼å¼

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210155297.(null))

#####  æ ¡éªŒå’Œè®¡ç®—

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210155575.(null))

#### TCP

æä¾›é¢å‘è¿æ¥çš„ã€å¯é çš„å­—èŠ‚æµæœåŠ¡ï¼Œä¸ä¿è¯åº”ç”¨å±‚çš„æ¶ˆæ¯è¾¹ç•Œ

#####  æ®µæ ¼å¼

 æ®µå¤´ï¼ˆ20æˆ–æ›´å¤šå­—èŠ‚ï¼‰

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210155826.(null))

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210156094.(null))

#####  æ ¡éªŒå’Œ

 Provides extra reliability

 It checksums the **header**, the **data**, and the **conceptualpseudo-header**

 Pseudo-header: helps detect mis-delivered packets Checksum is mandatory(TCPä¸­çš„æ ¡éªŒå’Œæ˜¯å¿…é¡»æ”¯æŒçš„)

#####  Options in Header

- MSS(Maximum Segment Size)
  - è¿æ¥å»ºç«‹æ—¶åå•†
  - æ”¶å‘æ–¹å‘çš„MSSå¯ä»¥ä¸åŒ
- Window scale
  - å…è®¸åŒæ–¹åœ¨è¿æ¥å¼€å§‹æ—¶åå•†
  - æœ€å¤§å¯è¾¾ $$2^{30$$ å­—èŠ‚
- Timestamp
- SACK
  - é€‰æ‹©æ€§ç¡®è®¤

#####  ä¸‰æ­¥å»ºç«‹è¿æ¥ï¼Œå››æ­¥é‡Šæ”¾è¿æ¥

 å»ºç«‹è¿æ¥ï¼ˆå®¢æˆ·ç«¯ç¡®è®¤â€œæœåŠ¡å™¨çš„ç¡®è®¤â€ğŸ˜€ï¼‰

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210156371.(null))

 é‡Šæ”¾è¿æ¥ï¼ˆä¸»åŠ¨æ–¹ç­‰è¢«åŠ¨æ–¹çš„é—è¨€ï¼Œç„¶åç¡®è®¤â€œè¢«åŠ¨æ–¹çš„ç¡®è®¤â€ğŸ˜€ï¼‰

![img](https://picture2023-1309715649.cos.ap-beijing.myqcloud.com/img/(null)-20240123210156619.(null))
